# Analyze SwiftLint XML Report

A Bitrise step that analyzes the XML report generated by the `SwiftLint` step and counts the number of occurrences for each error type. If the report contains at least one error, the step fails and throws an error. This step provides insight into the quality of your Swift code by identifying common issues and ensuring that your code meets best practices.

## Requirements

- This step must be executed after the `SwiftLint` step in the Bitrise workflow, as it requires the XML report generated by `SwiftLint` as input. `SwiftLint` step should be configured to generate `xml` type report file. If the `xml` report is not available, the step will fail.
- This step uses next input variable:
  1. `$SWIFTLINT_REPORT_PATH` : The path to the `SwiftLint` report file. Usually `SwiftLint` step generates it automatically, so changes are not required.

## How to use this Step

To use the step, you must first add it to your Bitrise workflow after the `SwiftLint` step.
Be sure that the report file which generated by `SwiftLint` is in format `xml` or `checkstyle`.

Simply add this step inside your `bitrise.yml` file as follows:
`git::https://github.com/URL/to/this/repository.git: {}`

Use this code snippet as reference:

```yaml
workflows:
  "name_of_your_workflow": 
      steps:
         # .... 
         - swiftlint@0: 
             inputs: 
               reporter: checkstyle
         - git::https://github.com/nttr-mypocket/bitrise_step_analyze_ios_lint.git: {}
         # ....
```

Be aware, if `SwiftLint` will face any error type issue during lint analysis, after it's execution it will throw an error and any subsequent steps in the workflow will not be executed.
If you have any crucial steps that should always run, regardless of whether `SwiftLint` fails or not, make sure to turn on the `Run if previous step failed` switch in the step settings.

This step expects the following input variables by default:

1. `$SWIFTLINT_REPORT_PATH` : The path to the `SwiftLint` report file. Usually `SwiftLint` step generates it automatically, so changes are not required.

If the XML report generated by the `SwiftLint` step contains at least one `error`, this step will **fail and stop the workflow**.

## Outputs

The step generates the following output variables:

- `$LINT_XML_OUTPUT` : The path to the Swift Lint XML report generated by the Swift Lint step.
- `$LINT_OUTPUT_ERROR` : The number of error issues found in the Swift Lint report.
- `$LINT_OUTPUT_OTHERS` : The number of other issues found in the Swift Lint report.
- `$LINT_OUTPUT_WARNING` : The number of warning issues found in the Swift Lint report.

You can use these output variables in subsequent steps of your Bitrise workflow, for example, to send notifications or perform additional analyses.

=======
That's all ;)

## Copyright

Copyright Â© 2023 NTT Resonant Technology Inc. All Rights Reserved.
